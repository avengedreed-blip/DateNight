@import "../theme/tokens.css";

:root {
  --safe-area-top: env(safe-area-inset-top);
  --safe-area-bottom: env(safe-area-inset-bottom);
  color-scheme: dark;
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}

body, #root {
  margin: 0;
  min-height: 100vh;
}

.app-shell {
  position: relative;
  isolation: isolate;
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr;
  color: var(--label-color);
  /* Create a slowly shifting background gradient.  The colors are defined
     by CSS variables injected from the current theme.  We animate the
     background position to give the gradient gentle movement over time. */
  background: linear-gradient(160deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
  background-size: 200% 200%;
  animation: gradientMove 30s ease infinite;
  transition: background 0.5s ease;
}


/* --- Spark Meter Showcase Section --- */
.spark-section {
  /* Visual Polish */
  background: rgba(18, 22, 33, 0.4);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 1.5rem; /* 24px */
  padding: 1.5rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);

  /* Mobile-First Layout (Vertical Stack) */
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  width: 100%;
  max-width: 900px; /* Max width for large screens */
  margin: 2rem auto; /* Centering */
}

.spark-section h2 {
  font-size: 1.25rem; /* 20px */
  font-weight: 700;
  text-align: center;
  margin-bottom: 0.5rem;
  color: var(--label-color, #f0f0f5);
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Desktop Layout (2-Column Grid) */
@media (min-width: 768px) {
  .spark-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    padding: 2rem;
  }

  .spark-section h2 {
    /* Make the header span both columns */
    grid-column: 1 / -1;
  }
}


/* --- 1. Section Entrance Animation --- */

/* Defines the keyframes for the fade-in and upward slide effect */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Applies the entrance animation to the section.
  'forwards' ensures it stays in the final state after playing once. */
.spark-section {
  animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
}

---

/* --- 2. SparkMeter Item Interactivity --- */

/* Smooth transitions for hover/focus effects */
.spark-section .spark-meter {
  border-radius: 1rem;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  will-change: transform, box-shadow;
}

/* Hover/focus-visible states */
.spark-section .spark-meter:hover,
.spark-section .spark-meter:focus-visible {
  transform: scale(1.03);
  box-shadow: 0 0 25px -5px var(--glow-color, rgba(142, 197, 252, 0.5));
  outline: none;
}

---

/* --- 3. Accessibility for Reduced Motion --- */
@media (prefers-reduced-motion: reduce) {
  .spark-section {
    animation: none;
  }

  .spark-section .spark-meter {
    transition: none;
  }

  .spark-section .spark-meter:hover,
  .spark-section .spark-meter:focus-visible {
    transform: none;
  }
}

/*
  Animated gradient for the app shell.  This keyframe shifts the
  background position horizontally to create subtle motion without
  distracting from the foreground content.  The animation duration is
  deliberately long to keep movement gentle and soothing.  Users who
  prefer reduced motion will see a static background instead.
*/
@keyframes gradientMove {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

